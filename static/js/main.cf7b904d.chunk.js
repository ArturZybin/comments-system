(this["webpackJsonpcomments-system"]=this["webpackJsonpcomments-system"]||[]).push([[0],{31:function(e,t,n){e.exports=n(48)},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(16),l=n(12),c=n(8),o=Object(l.b)({authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_AUTH_USER":return t.payload;default:return e}}}),s=n(6),i=n(10),m=n(29),d=n(19),p=n.n(d),h=(n(40),n(42),{apiKey:"AIzaSyDpt6WXqe7-GrSdSZxe1w1jD_h9XQIQWYA",authDomain:"comments-system-6e56a.firebaseapp.com",databaseURL:"https://comments-system-6e56a.firebaseio.com",projectId:"comments-system-6e56a",storageBucket:"comments-system-6e56a.appspot.com",messagingSenderId:"463788584226",appId:"1:463788584226:web:d0787997fe53b69d8d497b",measurementId:"G-LMGZ5VEP27"}),E=new function e(){var t=this;Object(m.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},p.a.initializeApp(h),this.auth=p.a.auth(),this.db=p.a.database()},b=r.a.createContext(E);var f,g=function(){var e=Object(a.useContext)(b);return r.a.createElement("button",{onClick:e.doSignOut},"Sign Out")},v=function(){var e=Object(c.c)((function(e){return e.authUser}));return r.a.createElement("nav",{className:"navbar"},e?r.a.createElement(O,null):r.a.createElement(j,null))},O=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Comments")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/account"},"Account")),r.a.createElement(g,null))},j=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Comments")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/signup"},"Sign Up")))},w=function(){return r.a.createElement("h2",null,"CommentsPage")},S=n(3),C=n(18),y=n.n(C),P=function(){var e=Object(i.e)(),t=Object(a.useContext)(b),n=Object(a.useState)(""),u=Object(S.a)(n,2),l=u[0],c=u[1],o=Object(a.useState)(""),m=Object(S.a)(o,2),d=m[0],p=m[1],h=Object(a.useState)(null),E=Object(S.a)(h,2),f=E[0],g=E[1];var v=d.length<6||!y.a.validate(l);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sign In"),r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t.doSignInWithEmailAndPassword(l,d).then((function(e){var n;t.user(null===(n=e.user)||void 0===n?void 0:n.uid).set({email:l})})).then((function(){c(""),p(""),g(null),e.push("/")})).catch(g)}},r.a.createElement("input",{name:"email",value:l,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:d,onChange:function(e){return p(e.target.value)},type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:v,type:"submit"},"Sign In"),f&&r.a.createElement("p",null,f.message)),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(s.b,{to:"/signup"},"Sign up")))},A=function(){var e=Object(a.useContext)(b),t=Object(a.useState)(""),n=Object(S.a)(t,2),u=n[0],l=n[1],c=Object(a.useState)(""),o=Object(S.a)(c,2),s=o[0],i=o[1],m=Object(a.useState)(null),d=Object(S.a)(m,2),p=d[0],h=d[1];var E=u!==s||""===u;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.doPasswordUpdate(u).then((function(){l(""),i(""),h(null)})).catch(h)}},r.a.createElement("input",{name:"passwordOne",value:u,onChange:function(e){return l(e.target.value)},type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:s,onChange:function(e){return i(e.target.value)},type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:E,type:"submit"},"Change My Password"),p&&r.a.createElement("p",null,p.message))},U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Reset Password"),r.a.createElement(x,null))},x=function(){var e=Object(a.useContext)(b),t=Object(c.c)((function(e){return e.authUser})),n=null===t||void 0===t?void 0:t.email,u=Object(a.useState)(null),l=Object(S.a)(u,2),o=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){e.doPasswordReset(n).then((function(){s(null)})).catch(s)}},"Reset My Password"),o&&r.a.createElement("p",null,o.message))},I=(f=function(e){return!!e},function(e){return function(t){var n=Object(i.e)(),a=Object(c.c)((function(e){return e.authUser}));return f(a)||n.push("/signin"),a?r.a.createElement(e,t):null}})((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"AccountPage"),r.a.createElement(A,null),r.a.createElement(x,null))})),R=function(){var e=Object(i.e)(),t=Object(a.useContext)(b),n=Object(a.useState)(""),u=Object(S.a)(n,2),l=u[0],c=u[1],o=Object(a.useState)(""),s=Object(S.a)(o,2),m=s[0],d=s[1],p=Object(a.useState)(""),h=Object(S.a)(p,2),E=h[0],f=h[1],g=Object(a.useState)(""),v=Object(S.a)(g,2),O=v[0],j=v[1],w=Object(a.useState)(null),C=Object(S.a)(w,2),P=C[0],A=C[1];var U=E!==O||E.length<6||!y.a.validate(m)||""===l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sign Up"),r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t.doCreateUserWithEmailAndPassword(m,E).then((function(e){var n;t.user(null===(n=e.user)||void 0===n?void 0:n.uid).set({email:m})})).then((function(){c(""),d(""),f(""),j(""),A(null),e.push("/")})).catch(A)}},r.a.createElement("input",{name:"username",value:l,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:m,onChange:function(e){return d(e.target.value)},type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:E,onChange:function(e){return f(e.target.value)},type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:O,onChange:function(e){return j(e.target.value)},type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:U,type:"submit"},"Sign Up"),P&&r.a.createElement("p",null,P.message)))},W=(n(46),n(47),function(){return function(){var e=Object(c.b)(),t=Object(a.useContext)(b);Object(a.useEffect)((function(){return t.auth.onAuthStateChanged((function(t){e({type:"CHANGE_AUTH_USER",payload:t})}))}),[])}(),r.a.createElement(s.a,null,r.a.createElement(v,null),r.a.createElement("hr",null),r.a.createElement(i.a,{exact:!0,path:"/",component:w}),r.a.createElement(i.a,{path:"/signin",component:P}),r.a.createElement(i.a,{path:"/signup",component:R}),r.a.createElement(i.a,{path:"/account",component:I}),r.a.createElement(i.a,{path:"/password-forget",component:U}))}),D=Object(l.c)(o);Object(u.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:D},r.a.createElement(b.Provider,{value:E},r.a.createElement(W,null)))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.cf7b904d.chunk.js.map