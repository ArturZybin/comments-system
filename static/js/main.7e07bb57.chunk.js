(this["webpackJsonpcomments-system"]=this["webpackJsonpcomments-system"]||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/avatar.511718fc.svg"},24:function(e,t,a){e.exports=a.p+"static/media/comments.d68b6143.svg"},37:function(e,t,a){e.exports=a(56)},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),c=a(8),l=a(9),o=a(27),u=a(32),m=a.n(u),i=a(33),d=a(36),p={user:null,username:null},f=Object(c.b)({authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_AUTH_USER":return{user:t.payload,username:null};case"SET_AUTH_USER_USERNAME":return Object(d.a)({},e,{username:t.payload});default:return e}}}),_=a(4),b=a(12),E=a(34),v=a(19),h=a.n(v),g=(a(48),a(50),{apiKey:"AIzaSyDpt6WXqe7-GrSdSZxe1w1jD_h9XQIQWYA",authDomain:"comments-system-6e56a.firebaseapp.com",databaseURL:"https://comments-system-6e56a.firebaseio.com",projectId:"comments-system-6e56a",storageBucket:"comments-system-6e56a.appspot.com",messagingSenderId:"463788584226",appId:"1:463788584226:web:d0787997fe53b69d8d497b",measurementId:"G-LMGZ5VEP27"}),O=new function e(){var t=this;Object(E.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.userDB=function(e){return t.db.ref("users/".concat(e))},this.usersDB=function(){return t.db.ref("users")},h.a.initializeApp(g),this.auth=h.a.auth(),this.db=h.a.database()},j=r.a.createContext(O);var N,S=window.location.pathname,w=S,y=S+"signin",C=S+"signup",U=S+"account",A=S+"password-reset",P=a(23),x=a.n(P),k=a(24),I=a.n(k),R=function(){var e=Object(l.c)((function(e){return e.authUser.user}));return r.a.createElement("nav",{className:"navbar"},e?r.a.createElement(D,null):r.a.createElement(T,null))},D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.b,{to:w,className:"navbar__comments"},r.a.createElement("img",{className:"navbar__img",src:I.a,alt:"Comments"})),r.a.createElement(_.b,{to:U,className:"navbar__account"},r.a.createElement("img",{className:"navbar__img",src:x.a,alt:"Account"})))},T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.b,{to:w,className:"navbar__comments"},r.a.createElement("img",{className:"navbar__img",src:I.a,alt:"Comments"})),r.a.createElement(_.b,{to:y,className:"navbar__account"},r.a.createElement("img",{className:"navbar__img",src:x.a,alt:"Sign In"})))},W=function(){return r.a.createElement("h2",null,"CommentsPage")},B=a(3),H=a(11),G=a.n(H),M=function(){var e=Object(b.e)(),t=Object(n.useContext)(j),a=Object(n.useState)(""),s=Object(B.a)(a,2),c=s[0],l=s[1],o=Object(n.useState)(""),u=Object(B.a)(o,2),m=u[0],i=u[1],d=Object(n.useState)(null),p=Object(B.a)(d,2),f=p[0],E=p[1];var v="form__input",h="form__input";v+=c&&!G.a.validate(c)?" form__input_invalid":"",h+=m&&m.length<6?" form__input_invalid":"";var g=m.length<6||!G.a.validate(c);return r.a.createElement("div",{className:"form-background"},r.a.createElement("div",{className:"form"},r.a.createElement("h2",{className:"form__title"},"Sign In"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t.doSignInWithEmailAndPassword(c,m).then((function(){l(""),i(""),E(null),e.push(w)})).catch(E)}},r.a.createElement("input",{name:"email",className:v,value:c,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",className:h,value:m,onChange:function(e){return i(e.target.value)},type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:g,type:"submit",className:"form__input form__button"},"Sign In"),f&&r.a.createElement("p",{className:"form__error"},f.message)),r.a.createElement("p",{className:"form__link"},"Don't have an account? ",r.a.createElement(_.b,{to:C},"Sign up")),r.a.createElement("p",{className:"form__link"},"Forgot password? ",r.a.createElement(_.b,{to:A},"Reset"))))},F=function(){var e=Object(b.e)(),t=Object(n.useContext)(j),a=Object(n.useState)(""),s=Object(B.a)(a,2),c=s[0],l=s[1],o=Object(n.useState)(""),u=Object(B.a)(o,2),m=u[0],i=u[1],d=Object(n.useState)(""),p=Object(B.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(""),h=Object(B.a)(v,2),g=h[0],O=h[1],N=Object(n.useState)(null),S=Object(B.a)(N,2),C=S[0],U=S[1];var A="form__input",P="form__input",x="form__input",k="form__input";A+=c&&c.length<3?" form__input_invalid":"",P+=m&&!G.a.validate(m)?" form__input_invalid":"",x+=f&&f.length<6?" form__input_invalid":"",k+=g&&g!==f?" form__input_invalid":"";var I=f!==g||f.length<6||!G.a.validate(m)||""===c;return r.a.createElement("div",{className:"form-background"},r.a.createElement("div",{className:"form"},r.a.createElement("h2",{className:"form__title"},"Sign Up"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t.doCreateUserWithEmailAndPassword(m,f).then((function(e){var a;t.userDB(null===(a=e.user)||void 0===a?void 0:a.uid).set({username:c,email:m})})).then((function(){l(""),i(""),E(""),O(""),U(null),e.push(w)})).catch(U)}},r.a.createElement("input",{name:"username",className:A,value:c,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Username"}),r.a.createElement("input",{name:"email",className:P,value:m,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",className:x,value:f,onChange:function(e){return E(e.target.value)},type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",className:k,value:g,onChange:function(e){return O(e.target.value)},type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:I,type:"submit",className:"form__input form__button"},"Sign Up"),C&&r.a.createElement("p",{className:"form__error"},C.message)),r.a.createElement("p",{className:"form__link"},"Already have an account? ",r.a.createElement(_.b,{to:y},"Sign in"))))},L=function(){var e=Object(b.e)(),t=Object(n.useContext)(j),a=Object(n.useState)(""),s=Object(B.a)(a,2),c=s[0],l=s[1],o=Object(n.useState)(null),u=Object(B.a)(o,2),m=u[0],i=u[1];var d="form__input";d+=c&&!G.a.validate(c)?" form__input_invalid":"";var p=!G.a.validate(c);return r.a.createElement("div",{className:"form-background"},r.a.createElement("div",{className:"form"},r.a.createElement("h2",{className:"form__title"},"Reset Password"),r.a.createElement("form",{onSubmit:function(){t.doPasswordReset(c).then((function(){l(""),i(null),e.push(y)})).catch(i)}},r.a.createElement("input",{name:"email",className:d,value:c,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:p,type:"submit",className:"form__input form__button"},"Send reset email"),m&&r.a.createElement("p",{className:"form__error"},m.message)),r.a.createElement("p",{className:"form__link"},"Recall password? ",r.a.createElement(_.b,{to:y},"Sign in"))))},z=function(){var e=Object(n.useContext)(j),t=Object(b.e)();return r.a.createElement("button",{onClick:function(){e.doSignOut(),t.push(w)},className:"form__input form__button"},"Sign Out")},J=function(){var e=Object(n.useContext)(j),t=Object(n.useState)(""),a=Object(B.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),o=Object(B.a)(l,2),u=o[0],m=o[1],i=Object(n.useState)(null),d=Object(B.a)(i,2),p=d[0],f=d[1];var _="form__input",b="form__input";_+=s&&s.length<6?" form__input_invalid":"",b+=u&&u!==s?" form__input_invalid":"";var E=s!==u||s.length<6;return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.doPasswordUpdate(s).then((function(){c(""),m(""),f(null)})).catch(f)}},r.a.createElement("input",{name:"passwordOne",className:_,value:s,onChange:function(e){return c(e.target.value)},type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",className:b,value:u,onChange:function(e){return m(e.target.value)},type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:E,type:"submit",className:"form__input form__button"},"Update password"),p&&r.a.createElement("p",{className:"form__error"},p.message))},Q=(N=function(e){return!!e},function(e){return function(t){var a=Object(b.e)(),n=Object(l.c)((function(e){return e.authUser.user})),s=N(n);return s||a.push(y),s?r.a.createElement(e,t):null}})((function(){var e=Object(l.c)((function(e){return e.authUser})),t=e.user,a=e.username;a||(a="Loading ...");var n=null===t||void 0===t?void 0:t.email;return r.a.createElement("div",{className:"form-background"},r.a.createElement("div",{className:"form"},r.a.createElement("h2",{className:"form__title form__username"},a),r.a.createElement("h2",{className:"form__title form__email"},n),r.a.createElement(J,null),r.a.createElement("hr",null),r.a.createElement(z,null)))})),X=(a(54),a(55),function(){return function(){var e=Object(l.b)(),t=Object(n.useContext)(j);Object(n.useEffect)((function(){return t.auth.onAuthStateChanged((function(a){e({type:"CHANGE_AUTH_USER",payload:a}),t.userDB(null===a||void 0===a?void 0:a.uid).once("value").then((function(t){if(t.val()){var a=t.val().username;e(function(e){return{type:"SET_AUTH_USER_USERNAME",payload:e}}(a))}}))}))}),[])}(),r.a.createElement(_.a,null,r.a.createElement(R,null),r.a.createElement(b.a,{exact:!0,path:w,component:W}),r.a.createElement(b.a,{path:y,component:M}),r.a.createElement(b.a,{path:C,component:F}),r.a.createElement(b.a,{path:A,component:L}),r.a.createElement(b.a,{path:U,component:Q}))}),Z={key:"root",storage:m.a},q=Object(o.a)(Z,f),K=Object(c.c)(q),V=Object(o.b)(K);Object(s.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:K},r.a.createElement(i.a,{loading:null,persistor:V},r.a.createElement(j.Provider,{value:O},r.a.createElement(X,null))))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.7e07bb57.chunk.js.map